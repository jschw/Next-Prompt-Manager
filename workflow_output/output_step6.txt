Below are the **necessary changes** to your PHP application to:

- Use Bootstrap for all UI elements.
- Make the UI responsive.
- Show the logo (`assets/logo_small.png`) on every page.

**How this is done:**
- Add Bootstrap CDN `<link>` and `<script>` in every HTML `<head>`.
- Replace all layout elements (forms, buttons, tables, containers, etc.) with Bootstrap classes.
- Add `<img src="assets/logo_small.png" ...>` in the header of every page, styled responsively.
- Remove or minimize use of the old CSS file.
- Only change the UI and layout; all logic and PHP code remains as in your original files.

Below, **for each file with a user interface**, I show only the changed code (the full file, with only necessary changes).  
**Files not listed (config.php, db.php, functions.php, etc.) do not need to be changed.**

---

## assets/style.css

You may keep only custom overrides if needed, but Bootstrap covers most styling.  
You can remove most of the original CSS or keep only what is not covered by Bootstrap.

```css
/* Optional: You may keep this for minor tweaks */
.logo {
    max-height: 48px;
    margin-right: 1rem;
}
```

---

## login.php

```php
<?php
require_once 'functions.php';
session_start();

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $token = trim($_POST['token']);
    if (validate_token($token, null, true)) {
        $_SESSION['dashboard_token'] = $token;
        header('Location: dashboard.php');
        exit;
    } else {
        $error = "Invalid token.";
    }
}
?>
<!DOCTYPE html>
<html>
<head>
    <title><?= APP_NAME ?> - Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <img src="assets/logo_small.png" alt="Logo" class="logo d-inline-block align-middle">
        <span class="navbar-brand ms-2"><?= APP_NAME ?></span>
    </div>
</nav>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title mb-4">Enter Access Token</h2>
                    <?php if (!empty($error)): ?>
                        <div class="alert alert-danger"><?= $error ?></div>
                    <?php endif; ?>
                    <form method="post">
                        <div class="mb-3">
                            <input type="text" name="token" class="form-control" placeholder="Access Token" required>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Enter</button>
                    </form>
                    <div class="mt-3 small text-center">
                        Need a token? <a href="token_generate.php">Generate one</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
```

---

## token_generate.php

```php
<?php
require_once 'functions.php';
session_start();

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $token = generate_token();
    store_token($token, null, true, null);
    $generated = $token;
}
?>
<!DOCTYPE html>
<html>
<head>
    <title><?= APP_NAME ?> - Generate Token</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
    function copyToken() {
        var token = document.getElementById('token');
        token.select();
        document.execCommand('copy');
        alert('Token copied!');
    }
    </script>
</head>
<body class="bg-light">
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <img src="assets/logo_small.png" alt="Logo" class="logo d-inline-block align-middle">
        <span class="navbar-brand ms-2"><?= APP_NAME ?></span>
    </div>
</nav>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2 class="card-title mb-4">Generate Dashboard Access Token</h2>
                    <form method="post">
                        <button type="submit" class="btn btn-primary w-100 mb-3">Generate Token</button>
                    </form>
                    <?php if (!empty($generated)): ?>
                        <div class="input-group mb-3">
                            <input id="token" class="form-control" value="<?= htmlspecialchars($generated) ?>" readonly>
                            <button type="button" class="btn btn-outline-secondary" onclick="copyToken()">Copy</button>
                        </div>
                    <?php endif; ?>
                    <a href="login.php" class="btn btn-link w-100">Back to Login</a>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
```

---

## dashboard.php

```php
<?php
require_once 'functions.php';
session_start();
if (!isset($_SESSION['dashboard_token']) || !validate_token($_SESSION['dashboard_token'], null, true)) {
    header('Location: login.php');
    exit;
}

$page = max(1, intval($_GET['page'] ?? 1));
$search = $_GET['search'] ?? '';
$tag_filter = isset($_GET['tags']) ? explode(',', $_GET['tags']) : [];
$favorite = isset($_GET['favorite']) ? 1 : null;

$prompts = get_prompts($page, $search, $tag_filter, $favorite);
$total = get_prompts_count($search, $tag_filter, $favorite);
$pages = ceil($total / 5);
$all_tags = get_all_tags();
?>
<!DOCTYPE html>
<html>
<head>
    <title><?= APP_NAME ?> - Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text);
        alert('Copied!');
    }
    function exportPrompts() {
        var format = prompt('Export format: csv or json?', 'json');
        if (format) window.location = 'prompt_export.php?format=' + encodeURIComponent(format);
    }
    </script>
</head>
<body class="bg-light">
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <img src="assets/logo_small.png" alt="Logo" class="logo d-inline-block align-middle">
        <span class="navbar-brand ms-2"><?= APP_NAME ?> - Dashboard</span>
    </div>
</nav>
<div class="container">
    <form method="get" class="row g-2 mb-3">
        <div class="col-md-4">
            <input type="text" name="search" value="<?= htmlspecialchars($search) ?>" class="form-control" placeholder="Search...">
        </div>
        <div class="col-md-3">
            <select name="tags" class="form-select">
                <option value="">All Tags</option>
                <?php foreach ($all_tags as $tag): ?>
                    <option value="<?= htmlspecialchars($tag) ?>"<?= in_array($tag, $tag_filter) ? ' selected' : '' ?>><?= htmlspecialchars($tag) ?></option>
                <?php endforeach; ?>
            </select>
        </div>
        <div class="col-md-2">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" name="favorite" value="1"<?= $favorite ? ' checked' : '' ?> id="favoriteCheck">
                <label class="form-check-label" for="favoriteCheck">Favorites</label>
            </div>
        </div>
        <div class="col-md-3 d-flex">
            <button type="submit" class="btn btn-primary me-2">Filter</button>
            <a href="dashboard.php" class="btn btn-secondary">Reset</a>
        </div>
    </form>
    <div class="d-flex justify-content-between mb-3">
        <a href="prompt_edit.php" class="btn btn-success">+ New Prompt</a>
        <button type="button" class="btn btn-outline-info" onclick="exportPrompts()">Export All</button>
    </div>
    <div class="table-responsive">
        <table class="table table-striped align-middle">
            <thead>
                <tr>
                    <th>Prompt</th>
                    <th>Topic</th>
                    <th>Tags</th>
                    <th>Stage</th>
                    <th>Favorite</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
            <?php foreach ($prompts as $p): ?>
                <tr>
                    <td><?= htmlspecialchars(substr($p['prompt'], 0, 40)) ?>...</td>
                    <td><?= htmlspecialchars($p['topic']) ?></td>
                    <td><?= htmlspecialchars($p['tags']) ?></td>
                    <td><?= htmlspecialchars($p['stage']) ?></td>
                    <td><?= $p['favorite'] ? '★' : '' ?></td>
                    <td>
                        <a href="prompt.php?id=<?= $p['id'] ?>" class="btn btn-sm btn-primary">View</a>
                        <a href="prompt_edit.php?id=<?= $p['id'] ?>" class="btn btn-sm btn-warning">Edit</a>
                    </td>
                </tr>
            <?php endforeach; ?>
            </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-end gap-2">
        <?php if ($page > 1): ?>
            <a href="?page=<?= $page-1 ?>&search=<?= urlencode($search) ?>&tags=<?= urlencode(implode(',', $tag_filter)) ?>&favorite=<?= $favorite ?>" class="btn btn-outline-secondary">Previous</a>
        <?php endif; ?>
        <?php if ($page < $pages): ?>
            <a href="?page=<?= $page+1 ?>&search=<?= urlencode($search) ?>&tags=<?= urlencode(implode(',', $tag_filter)) ?>&favorite=<?= $favorite ?>" class="btn btn-outline-secondary">Next</a>
        <?php endif; ?>
    </div>
    <div class="mt-3">
        <a href="token_generate.php">Generate Token</a> | <a href="login.php?logout=1">Logout</a>
    </div>
</div>
</body>
</html>
```

---

## prompt_edit.php

```php
<?php
require_once 'functions.php';
session_start();
if (!isset($_SESSION['dashboard_token']) || !validate_token($_SESSION['dashboard_token'], null, true)) {
    header('Location: login.php');
    exit;
}

$id = $_GET['id'] ?? null;
$editing = false;
if ($id) {
    $prompt = get_prompt($id);
    if (!$prompt) die("Prompt not found.");
    $editing = true;
}

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    $data = [
        'prompt' => $_POST['prompt'],
        'description' => $_POST['description'],
        'topic' => $_POST['topic'],
        'tags' => $_POST['tags'],
        'favorite' => isset($_POST['favorite']),
        'stage' => $_POST['stage'],
        'llm_params' => $_POST['llm_params'],
        'is_public' => isset($_POST['is_public'])
    ];
    if ($editing) {
        $change_desc = $_POST['change_desc'] ?? '';
        update_prompt($id, $data, $change_desc);
        header("Location: prompt.php?id=$id");
        exit;
    } else {
        $new_id = add_prompt($data);
        header("Location: prompt.php?id=$new_id");
        exit;
    }
}
?>
<!DOCTYPE html>
<html>
<head>
    <title><?= APP_NAME ?> - <?= $editing ? 'Edit' : 'New' ?> Prompt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <img src="assets/logo_small.png" alt="Logo" class="logo d-inline-block align-middle">
        <span class="navbar-brand ms-2"><?= APP_NAME ?> - <?= $editing ? 'Edit' : 'New' ?> Prompt</span>
    </div>
</nav>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-sm">
                <div class="card-body">
                    <form method="post">
                        <div class="mb-3">
                            <label class="form-label">Prompt Text</label>
                            <textarea name="prompt" class="form-control" required><?= htmlspecialchars($prompt['prompt'] ?? '') ?></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <input type="text" name="description" class="form-control" value="<?= htmlspecialchars($prompt['description'] ?? '') ?>">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Topic</label>
                            <input type="text" name="topic" class="form-control" value="<?= htmlspecialchars($prompt['topic'] ?? '') ?>">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Tags (comma-separated)</label>
                            <input type="text" name="tags" class="form-control" value="<?= htmlspecialchars($prompt['tags'] ?? '') ?>">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Stage</label>
                            <select name="stage" class="form-select">
                                <?php foreach (['draft','review','final','archived'] as $stage): ?>
                                    <option value="<?= $stage ?>"<?= ($prompt['stage'] ?? '') == $stage ? ' selected' : '' ?>><?= ucfirst($stage) ?></option>
                                <?php endforeach; ?>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">LLM Parameters (JSON or text)</label>
                            <textarea name="llm_params" class="form-control"><?= htmlspecialchars($prompt['llm_params'] ?? '') ?></textarea>
                        </div>
                        <div class="form-check form-check-inline mb-3">
                            <input class="form-check-input" type="checkbox" name="favorite" id="favorite"<?= !empty($prompt['favorite']) ? ' checked' : '' ?>>
                            <label class="form-check-label" for="favorite">Favorite</label>
                        </div>
                        <div class="form-check form-check-inline mb-3">
                            <input class="form-check-input" type="checkbox" name="is_public" id="is_public"<?= !empty($prompt['is_public']) ? ' checked' : '' ?>>
                            <label class="form-check-label" for="is_public">Public</label>
                        </div>
                        <?php if ($editing): ?>
                            <div class="mb-3">
                                <label class="form-label">Change Description (for version control)</label>
                                <input type="text" name="change_desc" class="form-control" required>
                            </div>
                        <?php endif; ?>
                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary"><?= $editing ? 'Save Changes' : 'Create Prompt' ?></button>
                            <a href="dashboard.php" class="btn btn-secondary">Cancel</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
```

---

## prompt.php

```php
<?php
require_once 'functions.php';
session_start();

$id = $_GET['id'] ?? null;
if (!$id) die("Prompt ID required.");
$prompt = get_prompt($id);
if (!$prompt) die("Prompt not found.");

$can_edit = isset($_SESSION['dashboard_token']) && validate_token($_SESSION['dashboard_token'], null, true);

$versions = get_prompt_versions($id);
$selected_version = null;
if (isset($_GET['version_id'])) {
    $selected_version = get_prompt_version($_GET['version_id']);
}

if ($_SERVER['REQUEST_METHOD'] === 'POST' && $can_edit) {
    if (isset($_POST['toggle_favorite'])) {
        toggle_favorite($id, !$prompt['favorite']);
        header("Location: prompt.php?id=$id");
        exit;
    }
    if (isset($_POST['toggle_public'])) {
        set_public($id, !$prompt['is_public']);
        header("Location: prompt.php?id=$id");
        exit;
    }
}
?>
<!DOCTYPE html>
<html>
<head>
    <title><?= APP_NAME ?> - Prompt Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script>
    function copyToClipboard(text) {
        navigator.clipboard.writeText(text);
        alert('Copied!');
    }
    </script>
</head>
<body class="bg-light">
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <img src="assets/logo_small.png" alt="Logo" class="logo d-inline-block align-middle">
        <span class="navbar-brand ms-2"><?= APP_NAME ?> - Prompt Details</span>
    </div>
</nav>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card shadow-sm mb-4">
                <div class="card-body">
                <?php if ($selected_version): ?>
                    <h3>Viewing Version <?= $selected_version['version'] ?></h3>
                    <pre class="bg-light p-2 rounded"><?= htmlspecialchars($selected_version['prompt']) ?></pre>
                    <p><strong>Description:</strong> <?= htmlspecialchars($selected_version['description']) ?></p>
                    <p><strong>Change:</strong> <?= htmlspecialchars($selected_version['change_desc']) ?></p>
                    <a href="prompt.php?id=<?= $id ?>" class="btn btn-secondary">Back to Current</a>
                <?php else: ?>
                    <h2><?= htmlspecialchars($prompt['description']) ?></h2>
                    <pre id="promptText" class="bg-light p-2 rounded"><?= htmlspecialchars($prompt['prompt']) ?></pre>
                    <button class="btn btn-outline-secondary mb-2" onclick="copyToClipboard(document.getElementById('promptText').innerText)">Copy Prompt</button>
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Topic:</strong> <?= htmlspecialchars($prompt['topic']) ?></p>
                            <p><strong>Tags:</strong> <?= htmlspecialchars($prompt['tags']) ?></p>
                            <p><strong>Stage:</strong> <?= htmlspecialchars($prompt['stage']) ?></p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>LLM Params:</strong> <code><?= htmlspecialchars($prompt['llm_params']) ?></code></p>
                            <p><strong>Favorite:</strong> <?= $prompt['favorite'] ? '★' : '' ?></p>
                            <p><strong>Public:</strong> <?= $prompt['is_public'] ? 'Yes' : 'No' ?></p>
                        </div>
                    </div>
                    <form method="post" class="mb-3 d-inline">
                        <?php if ($can_edit): ?>
                            <button name="toggle_favorite" class="btn btn-outline-warning"><?= $prompt['favorite'] ? 'Unfavorite' : 'Favorite' ?></button>
                            <button name="toggle_public" class="btn btn-outline-info"><?= $prompt['is_public'] ? 'Unshare' : 'Share Publicly' ?></button>
                        <?php endif; ?>
                    </form>
                    <div class="d-flex gap-2 mb-3 flex-wrap">
                        <?php if ($can_edit): ?>
                            <a href="prompt_edit.php?id=<?= $id ?>" class="btn btn-warning">Edit</a>
                            <a href="prompt_delete.php?id=<?= $id ?>" class="btn btn-danger" onclick="return confirm('Delete this prompt?')">Delete</a>
                        <?php endif; ?>
                        <a href="prompt_export.php?id=<?= $id ?>&format=json" class="btn btn-outline-success">Export JSON</a>
                        <a href="prompt_export.php?id=<?= $id ?>&format=csv" class="btn btn-outline-success">Export CSV</a>
                    </div>
                    <h5>Shareable URLs</h5>
                    <div class="input-group mb-3">
                        <input value="<?= $_SERVER['REQUEST_SCHEME'].'://'.$_SERVER['HTTP_HOST'].'/prompt_share.php?id='.$id.($prompt['is_public'] ? '' : '&token='.($_SESSION['dashboard_token'] ?? '')) ?>" readonly id="shareUrl" class="form-control">
                        <button class="btn btn-outline-secondary" onclick="copyToClipboard(document.getElementById('shareUrl').value)">Copy URL</button>
                    </div>
                    <h5>Version History</h5>
                    <ul class="list-group">
                        <?php foreach ($versions as $v): ?>
                            <li class="list-group-item d-flex justify-content-between align-items-center">
                                <a href="prompt.php?id=<?= $id ?>&version_id=<?= $v['id'] ?>">Version <?= $v['version'] ?></a>
                                <span class="small text-muted"><?= htmlspecialchars($v['change_desc']) ?></span>
                            </li>
                        <?php endforeach; ?>
                    </ul>
                <?php endif; ?>
                </div>
            </div>
            <a href="dashboard.php" class="btn btn-secondary">Back to Dashboard</a>
        </div>
    </div>
</div>
</body>
</html>
```

---

## prompt_delete.php

```php
<?php
require_once 'functions.php';
session_start();
if (!isset($_SESSION['dashboard_token']) || !validate_token($_SESSION['dashboard_token'], null, true)) {
    header('Location: login.php');
    exit;
}

$id = $_GET['id'] ?? null;
if (!$id) die("Prompt ID required.");

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    if (isset($_POST['confirm'])) {
        delete_prompt($id);
        header('Location: dashboard.php');
        exit;
    } else {
        header("Location: prompt.php?id=$id");
        exit;
    }
}
?>
<!DOCTYPE html>
<html>
<head>
    <title><?= APP_NAME ?> - Delete Prompt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <img src="assets/logo_small.png" alt="Logo" class="logo d-inline-block align-middle">
        <span class="navbar-brand ms-2"><?= APP_NAME ?> - Delete Prompt</span>
    </div>
</nav>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-6 col-lg-5">
            <div class="card shadow-sm">
                <div class="card-body">
                    <form method="post">
                        <p class="mb-4">Are you sure you want to delete this prompt?</p>
                        <div class="d-flex gap-2">
                            <button name="confirm" value="1" class="btn btn-danger">Yes, Delete</button>
                            <button name="cancel" value="1" class="btn btn-secondary">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
```

---

## prompt_share.php

```php
<?php
require_once 'functions.php';

$id = $_GET['id'] ?? null;
$token = $_GET['token'] ?? null;
if (!$id) die("Prompt ID required.");

$prompt = get_prompt($id);
if (!$prompt) die("Prompt not found.");

if (!$prompt['is_public']) {
    if (!$token || !validate_token($token, $id)) {
        die("Access denied.");
    }
}
?>
<!DOCTYPE html>
<html>
<head>
    <title>Prompt Share - <?= APP_NAME ?></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<nav class="navbar navbar-dark bg-dark mb-4">
    <div class="container">
        <img src="assets/logo_small.png" alt="Logo" class="logo d-inline-block align-middle">
        <span class="navbar-brand ms-2"><?= APP_NAME ?> - Shared Prompt</span>
    </div>
</nav>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h2><?= htmlspecialchars($prompt['description']) ?></h2>
                    <pre class="bg-light p-2 rounded"><?= htmlspecialchars($prompt['prompt']) ?></pre>
                    <div class="row">
                        <div class="col-md-6">
                            <p><strong>Topic:</strong> <?= htmlspecialchars($prompt['topic']) ?></p>
                            <p><strong>Tags:</strong> <?= htmlspecialchars($prompt['tags']) ?></p>
                        </div>
                        <div class="col-md-6">
                            <p><strong>Stage:</strong> <?= htmlspecialchars($prompt['stage']) ?></p>
                            <p><strong>LLM Params:</strong> <code><?= htmlspecialchars($prompt['llm_params']) ?></code></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
```

---

**No changes are needed for:**
- index.php (redirect only)
- prompt_api.php (API only)
- prompt_export.php (API/download only)

---

**You now have a Bootstrap-based, responsive, logo-branded UI for your application.**  
All forms, tables, and layouts are responsive and mobile-friendly.  
The logo is shown on every page.  
No logic or backend code was changed.